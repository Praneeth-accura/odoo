<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<record id="view_bonus_employees" model="ir.ui.view">
        <field name="name">bonus_employees_wizard</field>
        <field name="model">bonus.employee.wizard</field>
        <field name="arch" type="xml">
            <form string="Bonus Payslips by Employees">
                <header>
                    <button icon="fa-cogs" string="Add Employees" name="load_bonus_details" type="object" class="oe_highlight"  />
                </header>
                <group>
                    <label colspan="4" nolabel="1" string="This wizard will generate Bonus Payslip(s)" />
                </group>
                <group colspan="4" >
                    <separator string="Employees" colspan="4"/>
                    <newline/>
                    <field name="employee_ids" nolabel="1"/>
                </group>
           </form>
        </field>
    </record>
   	<record id="action_view_bonus_employees" model="ir.actions.act_window">
	    <field name="name">Select Employees</field>
	    <field name="res_model">bonus.employee.wizard</field>
	    <field name="view_type">form</field>
	    <field name="view_mode">tree,form</field>
	    <field name="view_id" ref="view_bonus_employees"/>
	    <field name="target">new</field>
    </record>
    
	<record id="view_bonus_batch_form" model="ir.ui.view">
		<field name="name">bonus.batch.form</field>
        <field name="model">bonus.batch</field>
        <field name="arch" type="xml">
        	<form string="Bonus Batch">
        		<sheet>
        			<group>
	        			<field name="name"/>
        			</group>
        			<group cols="4">
       					<label for="period_from" string="Period"/>
        				<div>
        					 <field name="period_from" class="oe_inline"/> - <field name="period_to" class="oe_inline"/>
        				</div>
       				</group>
       				<separator string="Payslips"/>
       				<button name="%(action_view_bonus_employees)d" string=" Select Employees" 
                   			type="action" class="btn btn-primary btn-md" 
                   			icon="fa-plus"/>
   					<field name="slip_ids">
      					<tree editable="bottom">
	       					<field name="employee_id"/>
	       					<field name="epf_no"/>
	       					<field name="gross_bonus"/>
	       					<field name="tax_table" />
	       					<field name="tax_rate" />
	        				<field name="gross_for_tax"/>
	       					<field name="other_deduction"/>
       					</tree>
      				</field>
        		</sheet>
        	</form>
        </field>
	</record>
	
	<record id="view_bonus_batch_tree" model="ir.ui.view">
		<field name="name">bonus.batch.tree</field>
        <field name="model">bonus.batch</field>
        <field name="arch" type="xml">
        	<tree string="Bonus Batch">
   				<field name="name"/>
      			<field name="period_from"/>
  				<field name="period_to"/>
  		 	</tree>
        </field>
	</record>
	
	<record id="action_bonus_batch" model="ir.actions.act_window">
		<field name="name">Bonus Batches</field>
  		<field name="res_model">bonus.batch</field>
    	<field name="view_type">form</field>
      	<field name="view_mode">tree,form</field>
      	<field name="view_id" ref="view_bonus_batch_tree" /> 
	</record>
	
	<menuitem 
		id="menu_bonus_batch"
		parent="menu_bonus" 
		name="Bonus Batches" 
		action="action_bonus_batch" 
		sequence="2"
		groups ="hr_payroll.group_hr_payroll_manager"
       	/>
	
</odoo>	