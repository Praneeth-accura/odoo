<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <!-- inherit view of Lead Form : adding the "Schedule a call" button -->
        <record id="crm_lead_view_form_inherit" model="ir.ui.view">
            <field name="name">crm.lead.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_leads" />
            <field name="arch" type="xml">
                <xpath expr="//div[@class='oe_title']" position="after">
                    <group>
                        <group>
                            <field name="department_id"/>
                            <field name="product_id"/>
                        </group>
                        <group>
                            <field name="date"/>
                        </group>
                    </group>
                </xpath>
                <xpath expr="//notebook/page[@name='extra']" position="after">
                    <page string="Requirements">
                        <group>
                            <field name="requirements"/>
                            <field name="additional_info"/>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="replace">
                    <field name="partner_id" string="Customer"
                           context="{
                           'default_name': contact_name,
                           'default_street': street,
                           'default_city': city,
                           'default_state_id': state_id,
                           'default_zip': zip,
                           'default_country_id': country_id,
                           'default_function': function,
                           'default_phone': phone,
                           'default_mobile': mobile,
                           'default_email': email_from,
                           'default_user_id': user_id,
                           'default_team_id': team_id,
                           'default_website': website
                           }" domain="[('customer','=',True)]"/>
                </xpath>
                <xpath expr="//field[@name='user_id']" position="replace">
                    <field name="user_id" domain="[('share', '=', False)]" context="{
                    'default_groups_ref':
                    ['base.group_user',
                    'base.group_partner_manager',
                    'sales_team.group_sale_salesman_all_leads'
                    ],
                    'team_id': team_id}" string="Sales Person"/>
                </xpath>
                <xpath expr="//field[@name='priority']" position="replace">
                    <field name="priority" widget="radio"/>
                </xpath>
            </field>
        </record>

        <record id="crm_lead_oppor_view_form_inherit" model="ir.ui.view">
            <field name="name">crm.lead.oppor.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor" />
            <field name="arch" type="xml">
                <xpath expr="//notebook/page[@name='lead']" position="after">
                    <page string="Lead Details">
                        <group>
                            <group>
                                <field name="department_id"/>
                                <field name="product_id"/>
                            </group>
                            <group>
                                <field name="date"/>
                            </group>
                        </group>
                        <group>
                            <field name="requirements"/>
                            <field name="additional_info"/>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//field[@name='user_id']" position="replace">
                    <field name="user_id" context="{'default_groups_ref':
                    ['base.group_user',
                    'base.group_partner_manager',
                    'sales_team.group_sale_salesman_all_leads'],
                    'team_id': team_id}" domain="[('share', '=', False)]" string="Sales Person"/>
                </xpath>
                <xpath expr="//field[@name='priority']" position="replace">
                    <field name="priority" widget="radio"/>
                </xpath>
            </field>
        </record>

        <record id="view_crm_lead2opportunity_partner_inherit" model="ir.ui.view">
            <field name="name">crm.lead.oppor.partner.form.inherit</field>
            <field name="model">crm.lead2opportunity.partner</field>
            <field name="inherit_id" ref="crm.view_crm_lead2opportunity_partner" />
            <field name="arch" type="xml">
                <xpath  expr="//field[@name='user_id']" position="attributes">
                    <attribute name="string">Sales Person</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_crm_case_kanban_view_leads_inherit" model="ir.ui.view">
            <field name="name">crm.lead.crm.case.kanban.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_kanban_view_leads" />
            <field name="arch" type="xml">
                <xpath  expr="(//field[@name='priority'])[2]" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_crm_lead_kanban_view_leads_inherit" model="ir.ui.view">
            <field name="name">crm.lead.crm.lead.kanban.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.view_crm_lead_kanban" />
            <field name="arch" type="xml">
                <xpath  expr="(//field[@name='priority'])[2]" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>
            </field>
        </record>
    </data>
</odoo>